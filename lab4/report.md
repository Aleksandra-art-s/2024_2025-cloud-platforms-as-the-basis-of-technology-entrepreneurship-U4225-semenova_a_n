University: [ITMO University](https://itmo.ru/ru/)
Faculty: [FICT](https://fict.itmo.ru)
Course: [Cloud platforms as the basis of technology entrepreneurship](https://) ADD link
Year: 2024/2025
Group: U4225
Author: Semenova Aleksandra Nikolaevna
Lab: Lab1
Date of create: 25.10.2024
Date of finished: 26.10.2024

# Лабораторная работа №4 "Разработка инфраструктуры MVP AI приложения"

### Выполнила:
Семенова Александра, номер ИСУ 412287

## Описание
Эта лабораторная работа направлена на разработку инфраструктуры для прототипа AI-приложения с базовой функциональностью. В рамках работы мы спроектируем инфраструктуру для приложения на трех этапах: начальное состояние, тестирование партнерами и продовое решение.

## Цель работы
Создать прототип AI-приложения с базовой функциональностью, спроектировать его инфраструктуру на каждом из этапов, оценить экономическую модель и обосновать выбор используемых ресурсов.

## Ход работы

### Шаг 1. Выбор приложения
В качестве AI-приложения выбран прототип **анализатора настроений текста**. Приложение будет обрабатывать текстовые запросы и выдавать ответ, указывающий на позитивное, негативное или нейтральное настроение.

### Шаг 2. Проектирование инфраструктуры для разных этапов

#### 1. Начальное состояние
На этом этапе приложение только тестируется в ограниченном объеме, предполагаем минимальное количество ресурсов.

- **Инфраструктура**:
  - **Виртуальная машина (VM)**: Один экземпляр виртуальной машины, на котором развернута модель анализа настроений. Все запросы поступают напрямую на эту виртуальную машину.
  - **Cloud Storage** (опционально): Для хранения логов и исходных данных.


#### 2. Тестирование партнерами
На этом этапе приложение начинает использоваться ограниченным кругом партнеров, и требуется больше стабильности и возможность масштабирования при увеличении нагрузки.

- **Инфраструктура**:
- **Load Balancer**: Добавляется для распределения трафика между виртуальными машинами.
- **Авто-масштабируемые виртуальные машины (VM)**: Несколько экземпляров виртуальных машин обрабатывают запросы, поддерживается авто-масштабирование для управления нагрузкой.
- **Cloud Logging и Monitoring**: Для мониторинга производительности и отслеживания логов.


#### 3. Продовое решение
На этом этапе приложение готово к работе в продовой среде с потенциально высокой нагрузкой, требующей надежного масштабирования и устойчивости.

- **Инфраструктура**:
- **Load Balancer**: Продолжает распределять трафик между виртуальными машинами.
- **Авто-масштабируемые виртуальные машины (VM)**: Ещё больше экземпляров виртуальных машин, обрабатывающих запросы.
- **Cloud SQL**: Для хранения истории результатов анализа настроений.
- **Cloud Storage**: Хранилище для файлов и логов.
- **Cloud Monitoring**: Для мониторинга производительности и логирования.

**Ссылка на Draw.io**: https://drive.google.com/file/d/1ewez6Jwu2hfjyFwIX94w8_GLDgw4k0vq/view?usp=sharing

### Шаг 3. Экономическая модель и обоснование выбора ресурсов

| Стадия                | Ресурс                    | Единичная стоимость | Количество | Общая стоимость |
|-----------------------|---------------------------|----------------------|------------|-----------------|
| Начальное             | Виртуальная машина        | $0.01/час           | 1          | $7.2/мес       |
| Тестирование партнёрами | Load Balancer            | $0.025/час          | 1          | $18/мес        |
| Тестирование партнёрами | Виртуальные машины       | $0.01/час           | 2          | $14.4/мес      |
| Продовое              | Load Balancer             | $0.025/час          | 1          | $18/мес        |
| Продовое              | Cloud SQL                 | $0.1/час            | 1          | $72/мес        |
| Продовое              | Виртуальные машины        | $0.01/час           | 5          | $36/мес        |
| Продовое              | Cloud Monitoring          | $0.01/час           | 1          | $7.2/мес       |

1. **Начальное состояние**:
 - Использование одной виртуальной машины минимизирует расходы.
 - Подходит для минимальных нагрузок и начального тестирования приложения.

2. **Тестирование партнерами**:
 - Добавление Load Balancer и авто-масштабируемых виртуальных машин позволяет гибко адаптироваться к изменениям в нагрузке.
 - Мониторинг позволяет выявлять и устранять проблемы в работе приложения на этапе тестирования.

3. **Продовое решение**:
 - Cloud SQL используется для хранения истории запросов, что важно для анализа и ведения логов.
 - Расширение инфраструктуры позволяет выдерживать большие объемы запросов и улучшает отказоустойчивость.

## Результаты лабораторной работы

В ходе работы была разработана схема инфраструктуры для прототипа AI-приложения с тремя уровнями развертывания. Было обосновано использование каждого из компонентов и рассчитана базовая экономическая модель.

## Выводы


Оптимальное решение для инфраструктуры приложения зависит от этапа его развития, предполагаемых нагрузок и требуемой гибкости. 

На **начальном этапе** рекомендуется выбрать **конфигурацию с использованием Cloud Run и минимальной конфигурацией Cloud SQL**. Этот вариант наиболее оптимален для старта по следующим причинам:

- **Экономичность**: Cloud Run позволяет оплачивать только фактическое время работы приложения, что идеально для прототипов и MVP, когда количество пользователей и нагрузка на систему еще невелики.
- **Автоматическое масштабирование**: Cloud Run автоматически масштабируется в зависимости от нагрузки. Это значит, что если количество пользователей внезапно возрастет, система сможет адаптироваться без необходимости ручной настройки.
- **Упрощенное управление**: На начальном этапе нет необходимости настраивать и поддерживать более сложные инструменты, такие как Kubernetes. Cloud Run и Cloud SQL легко интегрируются, что позволяет сосредоточиться на разработке функциональности приложения, а не на управлении инфраструктурой.







